---
title: Upstash
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/427?languages=zhcn&filter=basic&value=0
metaTitle: Upstash é›†æˆé—¨ | ILLA Cloud
desc: å­¦ä¹ å¦‚ä½•å°†æ‚¨çš„ Upstash Redis æ•°æ®åº“è¿æ¥åˆ° ILLA Cloudï¼Œå¹¶åˆ›å»ºå¯ä»¥æŸ¥è¯¢ã€æ“ä½œå’Œæ˜¾ç¤ºæ•°æ®çš„åº”ç”¨
tagCategory: doc_menu_upstash_click
categoryName: ğŸ”¨ é›†æˆ
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>ä»€ä¹ˆæ˜¯Upstash?</h2>

Upstash æ˜¯ä¸€ç§æ— äº‘æœ¬æœºæœåŠ¡å™¨æœåŠ¡ä¸ Redis å…¼å®¹ï¼Œå®ƒæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹å¼å°†Redis åŠŸèƒ½æ•´åˆåˆ°åº”ç”¨ç¨‹åºä¸­ã€‚ åœ¨ILLA Cloudçš„æƒ…å†µä¸‹ï¼ŒUpstash é›†æˆå…è®¸ç”¨æˆ·åœ¨ILLA äº‘åº”ç”¨ç¨‹åºä¸­åˆ©ç”¨Upstash çš„åŠŸèƒ½å’Œèƒ½åŠ›ã€‚

æœ¬æ•™ç¨‹æ¦‚è¿°äº†ä½¿ç”¨ ILLA Builder å’Œ Upstash åœ¨å‡ ä¸ªç®€å•æ­¥éª¤åˆ›å»ºç®¡ç†å‘˜é¢æ¿çš„è¿‡ç¨‹ã€‚ ILLA Cloudæ˜¯å¼€å‘è€…çš„ä½ä»£ç å¹³å°ï¼Œèƒ½å¤Ÿå¿«é€Ÿå¼€å‘å’Œéƒ¨ç½²å†…éƒ¨å·¥å…·ã€‚ å®ƒå…è®¸é€šè¿‡æ‹–æ”¾UIç»„ä»¶åˆ›å»ºé¡µé¢ï¼Œå¹¶è¿æ¥åˆ°ä»»ä½•æ•°æ®åº“æˆ–APIï¼Œä»¥åŠå†™å…¥ JavaScriptã€‚ è¦äº†è§£æ›´å¤šå…³äº Upstash çš„ä¿¡æ¯ï¼Œè¯·è®¿é—®ä»–ä»¬çš„ç½‘ç«™ https://upstash.com/(https://upstash.com/) è®©æˆ‘ä»¬å¼€å§‹å§ï¼

### åœ¨ Upstash ä¸Šè®¾ç½®æ‚¨çš„åç«¯

åœ¨ Upstash ä¸Šåˆ›å»ºä¸€ä¸ªå¸æˆ·ã€‚ æ‚¨å¯ä»¥é€‰æ‹©ä½¿ç”¨æ‚¨çš„äºšé©¬é€Šã€Githubæˆ–è°·æ­Œå¸æˆ·ç™»å½•ã€‚

åœ¨ `Upstash`ä¸Šç­¾å…¥æ‚¨çš„å¸æˆ·åï¼Œç‚¹å‡»Redisä¸­çš„`Create database`æŒ‰é’®ã€‚

![up_home](https://cdn.illacloud.com/official-website/img/docs/up_home.jpg)

åœ¨ `Upstash` æ§åˆ¶é¢æ¿ä¸Šï¼Œç‚¹å‡» `Create database` ã€‚

![up_create_db](https://cdn.illacloud.com/official-website/img/docs/up_create_db.jpg)

æ³¨æ„ï¼šæ‚¨åªèƒ½åœ¨å…è´¹çº§åˆ«ä¸Šæœ‰ONEæ•°æ®åº“ã€‚

å¯¹äºæ•°æ®åº“é…ç½®ï¼Œæ‚¨å¯ä»¥æŒ‰è‡ªå·±çš„è¦æ±‚å‘½åæ•°æ®åº“ã€‚ æˆ‘ä»¬åœ¨è¿™é‡Œå‘½åæ˜¯ `db1'ã€‚ åŸºäºæ‚¨çš„å†™å…¥å’Œè¯»å–ç”¨æˆ·ä½ç½®ï¼Œé€‰æ‹©"ä¸»åŒºåŸŸ"å’Œ"è¯»å–åŒºåŸŸ"ã€‚ å¯ç”¨`TSL/SL\`ã€‚ å¯ç”¨é©±é€æ˜¯å¯é€‰çš„ã€‚

![up_db_config](https://cdn.illacloud.com/official-website/img/docs/up_db_config.jpg)

ç‚¹å‡» **`create` ** æŒ‰é’®ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°æ®åº“ã€‚

### åœ¨ ILLA äº‘ä¸­åˆ›å»º Upstash

åœ¨ç™»å½•åˆ°æ‚¨çš„ Illa å¸æˆ·åï¼Œæœ‰ä¸¤ç§æ–¹å¼åœ¨Illa ä¸­åˆ›å»ºèµ„æºã€‚

-   åœ¨èµ„æºä¸­åˆ›å»º

ç™»å½•åˆ°æ‚¨çš„ Illa å¸æˆ·ï¼Œåœ¨é¡µé¢é¡¶éƒ¨é€‰æ‹© `**Resources**` å¹¶ç‚¹å‡» `**Create New**` æŒ‰é’®ã€‚

![external_resource](https://cdn.illacloud.com/official-website/img/docs/external_resource.png)

ä»æ•°æ®åº“åˆ—è¡¨ä¸­é€‰æ‹© **`Upstash`** ã€‚

![action_list_0](https://cdn.illacloud.com/official-website/img/docs/action_list_0.jpg)

ä½¿ç”¨ä¸‹é¢`é“¾æ¥è®¾ç½®`æè¿°çš„å¿…å¡«å‚æ•°è¿æ¥åˆ°æ•°æ®åº“ã€‚

ç‚¹å‡» "**æµ‹è¯•è¿æ¥**" æŸ¥çœ‹æˆ‘ä»¬æ˜¯å¦å¯ä»¥æˆåŠŸåœ°è¿æ¥åˆ°æ•°æ®åº“ã€‚ å¦‚æœæ˜¯ï¼Œè¯·ç‚¹å‡» **\`ä¿å­˜èµ„æº** \*ï¼Œè¯·é‡æ–°æ£€æŸ¥ä¸»æœºåã€ç«¯å£ã€ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®ã€‚

åœ¨åˆ›å»ºèµ„æºåï¼Œå‡†å¤‡å¥½çš„ `Upstash` å°†æ˜¾ç¤ºã€‚

![up_ex_ready](https://cdn.illacloud.com/official-website/img/docs/up_ex_ready.jpg)

-   åœ¨æ„å»ºå™¨ä¸­åˆ›å»º

ç™»å½•åˆ°æ‚¨çš„ Illa å¸æˆ·ï¼Œåœ¨â€œ**App**â€é¡µé¢ä¸Šåœ¨ Illa Builder åˆ›å»ºä¸€ä¸ªé¡¹ç›® å¹¶å¯¼èˆªåˆ°é¡µé¢åº•éƒ¨çš„ **`Action List` **ã€‚ ç‚¹å‡»`**æ–°**`ï¼Œç„¶åä»æ•°æ®åº“åˆ—è¡¨ä¸­é€‰æ‹© **`Upstash`** ã€‚ ç„¶åï¼Œç”¨ä¸‹é¢`é“¾æ¥è®¾ç½®`æè¿°çš„å‚æ•°è¿æ¥åˆ°æ•°æ®åº“ã€‚

ç‚¹å‡» "**æµ‹è¯•è¿æ¥**" æŸ¥çœ‹æˆ‘ä»¬æ˜¯å¦å¯ä»¥æˆåŠŸåœ°è¿æ¥åˆ°æ•°æ®åº“ã€‚ å¦‚æœæ˜¯ï¼Œè¯·ç‚¹å‡» **\`ä¿å­˜èµ„æº** \*ï¼Œè¯·é‡æ–°æ£€æŸ¥ä¸»æœºåã€ç«¯å£ã€ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®ã€‚

### è¿æ¥è®¾ç½®

è¿™é‡Œæˆ‘ä»¬éœ€è¦æä¾›è¿æ¥åˆ° Upstash æ•°æ®åº“çš„ä¿¡æ¯ã€‚

![up_config](https://cdn.illacloud.com/official-website/img/docs/up_config_rev.jpg)

| å±æ€§         | å¿…å¡« | æè¿°                                                                                                        |
| ---------- | -- | --------------------------------------------------------------------------------------------------------- |
| åç§°         | å¿…å¡« | åœ¨ ILLA ä¸­åˆ›å»ºåŠ¨ä½œæ—¶çš„èµ„æºåç§°ã€‚                                                                                       |
| Hostname   | å¿…å¡« | æ‚¨æ•°æ®åº“çš„ URL æˆ– IP åœ°å€                                                                                         |
| ç«¯å£         | å¿…å¡« | æ‚¨åº”è¯¥ä½¿ç”¨æœåŠ¡å™¨ä¸»æœºçš„ç«¯å£å·è¿›è¡Œè¿æ¥ã€‚ å¦‚æœæ‚¨æ²¡æœ‰æŒ‡å®šç«¯å£ï¼Œé»˜è®¤ç«¯å£ä¸ºâ€œ6379â€ã€‚                                                                |
| å¯†ç          | å¿…å¡« | ä½¿ç”¨æ­¤å¯†ç è¿›è¡Œèº«ä»½éªŒè¯ã€‚                                                                                              |
| SSL é€‰é¡¹     | å¿…å¡« | æ˜¯å¦å¯ç”¨ SSL (å»ºè®®å¯ç”¨)                                                                                           |

ä¸ºäº†å¡«å†™æ‰€éœ€çš„èµ„æ–™, è½¬åˆ°æ•°æ®åº“ä»ªè¡¨æ¿é¡µé¢å¹¶ç‚¹å‡»æˆ‘ä»¬åˆšåˆšåœ¨æ‚¨çš„ Upstash ä¸­åˆ›å»ºçš„æ•°æ®åº“ã€‚

![up_info](https://cdn.illacloud.com/official-website/img/docs/up_info.jpg)

æ‚¨å¯ä»¥é€šè¿‡é¼ æ ‡æ‚¬åœåœ¨ç«¯ç‚¹ã€å¯†ç å’Œç«¯å£å¹¶ç‚¹å‡»èƒŒé¢çš„æ–‡æœ¬å›¾æ ‡æ¥å¤åˆ¶å®ƒã€‚

åœ¨ Upstash é›†æˆé…ç½®ä¸­ï¼Œåœ¨ ILLA Cloud ä¸­ä½¿ç”¨ä½ æƒ³è¦çš„ `name` åç§°ï¼Œ `hostname`çš„ç«¯ç‚¹`ï¼Œç»™`Port`çš„ç«¯ç‚¹`ï¼Œå¹¶å¤åˆ¶`Password`çš„åŠ å¯†ç‰ˆæœ¬`Password`ã€‚

![up_config_done](https://cdn.illacloud.com/official-website/img/docs/up_config_rev_done.jpg)

### åˆ›å»ºåŠ¨ä½œ

æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª Upstash èµ„æºï¼Œæˆ‘ä»¬å¯ä»¥ä»åŠ¨ä½œåˆ—è¡¨ä¸­é€‰æ‹© Upstash å¹¶é€‰æ‹© **`Create action` ** æŒ‰é’®æ¥æ·»åŠ åŠ¨ä½œã€‚

![up_resource_list](https://cdn.illacloud.com/official-website/img/docs/up_resource_list.jpg)

ç°åœ¨æˆ‘ä»¬å·²ç»å°† Upstash æœåŠ¡å™¨æ·»åŠ åˆ°æˆ‘ä»¬çš„å»ºç­‘é¡µé¢ä½œä¸ºä¸€ä¸ªåŠ¨ä½œã€‚

![upstash](https://cdn.illacloud.com/official-website/img/docs/upstash.jpg)

### é…ç½® Upstah

| å±æ€§       | æè¿°                                                             |
| -------- | -------------------------------------------------------------- |
| Redis æŸ¥è¯¢ | ä½¿ç”¨æŸ¥è¯¢æ¥æ£€ç´¢å’Œæ“çºµä½ Redisæ•°æ®åº“ä¸­å­˜å‚¨çš„æ•°æ®                                      |
| è½¬æ¢å™¨      | å°†æ•°æ®è½¬æ¢ä¸ºä½ å–œæ¬¢ä½¿ç”¨ JavaScript çš„æ ·å¼                                     |

ç¤ºä¾‹ç”¨æ³•ï¼š

1.  è·å–å€¼ï¼š
    -   è·å–å€¼ï¼šä½¿ç”¨ **`GET`** å‘½ä»¤æ£€ç´¢ä¸ç‰¹å®šé”®ç›¸å…³çš„å€¼ã€‚ ä¾‹å¦‚ï¼š**`GET key`**ã€‚
2.  è®¾å®šå€¼ï¼š
    -   è®¾ç½®ä¸€ä¸ªå€¼ï¼šä½¿ç”¨ **`SET`** å‘½ä»¤æ¥è®¾ç½®ä¸€ä¸ªé”®å€¼ã€‚ ä¾‹å¦‚**`SET å¯†é’¥å€¼`**ã€‚
3.  å“ˆå¸Œæ“ä½œï¼š
    -   åœ¨å“ˆå¸Œä¸­è®¾ç½®å­—æ®µå€¼å¯¹ï¼šä½¿ç”¨ **`HSET`** å‘½ä»¤åœ¨å“ˆå¸Œä¸­è®¾ç½®ä¸€ä¸ªå­—æ®µå€¼å¯¹ã€‚ ä¾‹å¦‚ï¼š**`HSET hashKey field å€¼`**ã€‚
    -   ä»å“ˆå¸Œä¸­è·å–å€¼ï¼šä½¿ç”¨ **`HGET`** å‘½ä»¤æ¥æ£€ç´¢å“ˆå¸Œä¸­ç‰¹å®šå­—æ®µçš„å€¼ã€‚ ä¾‹å¦‚ï¼š**`HGET hashkey field`**ã€‚
4.  åˆ—å‡ºæ“ä½œï¼š
    -   åœ¨åˆ—è¡¨ä¸­æ·»åŠ å…ƒç´ ï¼šä½¿ç”¨ **`LPUSH` æˆ– **`RPUSH` å‘½ä»¤åˆ†åˆ«å°†å…ƒç´ æ·»åŠ åˆ°åˆ—è¡¨çš„å¼€å¤´æˆ–ç»“å°¾ã€‚ ä¾‹å¦‚ï¼š**`LPUSH listKey value`**ã€‚
    -   ä»åˆ—è¡¨ä¸­è·å–å…ƒç´ ï¼šä½¿ç”¨ **`LRANGE`** å‘½ä»¤ä»åˆ—è¡¨ä¸­è·å–ä¸€ç³»åˆ—å…ƒç´ ã€‚ ä¾‹å¦‚ï¼š**`LRANGE ListKey å¼€å¤´`**ã€‚
5.  è®¾ç½®æ“ä½œï¼š
    -   å°†å…ƒç´ æ·»åŠ åˆ°é›†åˆä¸­ï¼šä½¿ç”¨ **`SADD`** å‘½ä»¤å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°é›†åˆä¸­ã€‚ ä¾‹å¦‚ï¼š**`SADD setKey value1 value2`**ã€‚
    -   ä»ä¸€ç»„ä¸­è·å–å…ƒç´ ï¼šä½¿ç”¨ **`SMEMBERS`** å‘½ä»¤è·å–é›†åˆçš„æ‰€æœ‰æˆå‘˜ã€‚ ä¾‹å¦‚ï¼š**`SMEMBERS setKey`**ã€‚
6.  å·²æ’åºçš„è®¾ç½®æ“ä½œï¼š
    -   å°†å…ƒç´ æ·»åŠ åˆ°å·²æ’åºçš„é›†åˆä¸­ï¼šä½¿ç”¨ **`ZADD`** å‘½ä»¤å°†å…ƒç´ æ·»åŠ åˆ°å·²æ’åºçš„é›†åˆä¸­ã€‚ ä¾‹å¦‚ï¼š**`ZADD æ’åºè®¾ç½®Key åˆ†æ•°1 member2 member2`**ã€‚
    -   ä»å·²æ’åºçš„ç»„è·å–å…ƒç´ ï¼šä½¿ç”¨ **`ZRANGE`** å‘½ä»¤ä»ä¸€ç»„æ ¹æ®ä»–ä»¬çš„å¾—åˆ†æ’åºçš„å…ƒç´ ä¸­è·å–ä¸€ç³»åˆ—å…ƒç´ ã€‚ ä¾‹å¦‚ï¼š**\`ZRANGE æ’åºçš„è®¾ç½®é”®å¼€å§‹å°¾éƒ¨**ã€‚

æ³¨æ„ï¼šæ‚¨å¯ä»¥å‚è€ƒRedisæ–‡æ¡£è·å–å®Œæ•´å®Œæ•´çš„å‘½ä»¤åŠå…¶ä½¿ç”¨åˆ—è¡¨ã€‚

### ä½¿ç”¨å¤§å°å†™

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ¼”ç¤ºå¦‚ä½•å°†æ•°æ®ä» `**Upstassh**` æ˜ å°„åˆ° `table` ç»„ä»¶ä¸­ã€‚

#### æ­¥éª¤ 1 æ·»åŠ åŠ¨ä½œ

è®©æˆ‘ä»¬åœ¨ä¹Œæ™®æ–¯å¡”ä»€åˆ›å»ºä¸€ä¸ªå«åšâ€œé›‡å‘˜æ¦‚å†µâ€çš„æ¡Œå­ï¼Œ\*\* åŒ…æ‹¬4æ `name`ã€`level`ã€`age`å’Œå·²å©š'ã€‚

ç„¶åæˆ‘ä»¬å¯ä»¥åœ¨ ILLA äº‘ä¸­ä¸ºUpstash åˆ›å»ºä¸€ä¸ªæ–°çš„åŠ¨ä½œï¼Œå¹¶ä¸”å‘½åä¸ºUpstash2ã€‚

è‹¥è¦åœ¨å‘˜å·¥ä¸ªäººèµ„æ–™ä¸­åˆ—å‡ºæ‰€æœ‰æ•°æ®ï¼Œè¯·å°†ä»£ç ç‰‡æ®µæ”¾åœ¨Redis æŸ¥è¯¢éƒ¨åˆ†ã€‚

```sql
GET å‘˜å·¥èµ„æ–™
```

ç”±äºè¾“å‡ºæ•°æ®æ˜¯å­—å…¸å¯¹åº”åˆ—è¡¨ï¼Œå› æ­¤æˆ‘ä»¬æƒ³è¦å°†å®ƒå˜æˆä¸€ä¸ªæ•°ç»„ã€‚ åœ¨è½¬æ¢ä¸­ï¼Œå¯ç”¨å®ƒå¹¶å°†ä»£ç æ”¾åœ¨ä¸‹é¢ã€‚

```jsx
const jsonString = data[0].result;

// Parse the JSON string into a JavaScript object
const jsonData = JSON.parse(jsonString);

// Access the "employees" property and map it to a new array
const mappedArray = jsonData.employees.map((employee) => ({
  name: employee.name,
  level: employee.level,
  age: employee.age,
  married: employee.married,
}));

return mappedArray;
```

![up_code](https://cdn.illacloud.com/official-website/img/docs/up_code.jpg)

ç‚¹å‡» **\`ä¿å­˜** å’Œ **`Run`** æ¿€æ´»æ­¤æ“ä½œã€‚

![up_data](https://cdn.illacloud.com/official-website/img/docs/up_data.jpg)

#### æ­¥éª¤ 2 æ·»åŠ ç»„ä»¶

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç”»å¸ƒä¸­æ·»åŠ  **`table`** ç»„ä»¶ã€‚

In the **`Data Source`** field in the Inspect page after clicking on the component, put `{{upstash2.data}}` to retrieve the data from upstash.

#### ç¬¬ 3 æ­¥æµ‹è¯•

æœ€åçš„å¤–è§‚åº”è¯¥åƒæ˜¾ç¤ºçš„é‚£æ ·ã€‚

![up_test](https://cdn.illacloud.com/official-website/img/docs/up_test.jpg)
