---
title: Upstash
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/427?languages=es&filter=basic&value=0
metaTitle: Actualizar documento de integraci贸n | ILLA Cloud
desc: Aprende c贸mo conectar tu base de datos de Upstash Redis a ILLA Cloud y crea aplicaciones que puedan consultar, manipular y mostrar datos
tagCategory: doc_menu_upstash_click
categoryName:  Integraciones
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>驴Qu茅 es Cambio?</h2>

Upstash es un servicio sin servidor nativo de la nube con compatibilidad con Redis que proporciona una forma f谩cil de integrar la funcionalidad de Redis en las aplicaciones. En el contexto de ILLA Cloud, la integraci贸n de Upstash permite a los usuarios aprovechar las caracter铆sticas y capacidades de Upstash dentro de la aplicaci贸n Cloud de ILLA.

Este tutorial describe el proceso de creaci贸n de un Panel de Administraci贸n usando ILLA Builder y Upstash en unos pocos pasos. ILLA Cloud es una plataforma de c贸digo bajo para desarrolladores que permite el r谩pido desarrollo y despliegue de herramientas internas. Permite crear p谩ginas arrastrando y soltando componentes de la interfaz de usuario, conectando a cualquier base de datos o API, y escribiendo JavaScript. Para obtener m谩s informaci贸n sobre Upstash, visite su sitio web en https://upstash.com/(https://upstash.com/) 隆Empecemos!

### Configura tu Back end en Upstash

Crear una cuenta en Upstash. Puede iniciar sesi贸n usando sus cuentas de Amazon, Github o Google alternativamente.

Despu茅s de iniciar sesi贸n en su cuenta en `Upstash`, haga clic en el bot贸n `Crear base de datos` en Redis.

![up_home](https://cdn.illacloud.com/official-website/img/docs/up_home.jpg)

En el panel de control `Upstash`, haga clic en `Crear base de datos`.

![up_create_db](https://cdn.illacloud.com/official-website/img/docs/up_create_db.jpg)

Nota: s贸lo puede tener UNA base de datos en el nivel libre.

Para la configuraci贸n de la base de datos, puede nombrar su base de datos de la forma que desee. Aqu铆 lo llamamos `db1`. Elige la `regi贸n primaria` y `regi贸n de lectura` bas谩ndose en tus ubicaciones de usuario de escritura y lectura. Habilitar `TSL/SSL`. Es opcional activar la desconfianza.

![up_db_config](https://cdn.illacloud.com/official-website/img/docs/up_db_config.jpg)

Haga clic en el bot贸n **`crear`** , ahora tenemos una base de datos lista para usar.

### Crear Upstash en ILLA Cloud

Hay dos maneras de crear un recurso en Illa despu茅s de iniciar sesi贸n en tu cuenta de Imax.

-   Crear en Recursos

Inicia sesi贸n en tu cuenta de Imax, selecciona `**Recursos**` en la parte superior de la p谩gina y haz clic en el bot贸n `**Crear nuevo**`.

![external_resource](https://cdn.illacloud.com/official-website/img/docs/external_resource.png)

Selecciona **`Upstash`** de la lista de bases de datos.

![action_list_0](https://cdn.illacloud.com/official-website/img/docs/action_list_0.jpg)

Conecte a la base de datos con los par谩metros requeridos descritos en `Configuraci贸n de Conexi贸n` a continuaci贸n.

Haga clic en `**Probar conexi贸n**` para ver si podemos conectar con 茅xito a la base de datos. En caso afirmativo, haga clic en **`Guardar Recursos`**, lo dem谩s, compruebe dos veces el nombre de host, el puerto, el nombre de usuario y la contrase帽a son correctos.

Despu茅s de crear un recurso, el listo `Upstash` se mostrar谩 como mostrado.

![up_ex_ready](https://cdn.illacloud.com/official-website/img/docs/up_ex_ready.jpg)

-   Crear en el Constructor

Inicia sesi贸n en tu cuenta de Imax, crea un proyecto en Illa Builder en la p谩gina `**App**` y navegar a la **`Lista de Acciones`** en la parte inferior de la p谩gina. Haz clic en `**nuevo**`, luego selecciona **`Upstash`** de la lista de bases de datos. Luego, conecte a la base de datos con los par谩metros requeridos descritos en `Configuraci贸n de Conexi贸n` a continuaci贸n.

Haga clic en `**Probar conexi贸n**` para ver si podemos conectar con 茅xito a la base de datos. En caso afirmativo, haga clic en **`Guardar Recursos`**, lo dem谩s, compruebe dos veces el nombre de host, el puerto, el nombre de usuario y la contrase帽a son correctos.

### Configuraci贸n de conexi贸n

Aqu铆 tenemos que proporcionar informaci贸n para conectarse a la base de datos de Upstash.

![up_config](https://cdn.illacloud.com/official-website/img/docs/up_config_rev.jpg)

| Propiedades  | Requerido | Descripci贸n                                                                                                                      |
| ------------ | --------- | -------------------------------------------------------------------------------------------------------------------------------- |
| Nombre       | requerido | El nombre del recurso al crear acciones en el ILLA.                                                                              |
| Hostname     | requerido | La URL o direcci贸n IP de su base de datos                                                                                        |
| Puerto       | requerido | El n煤mero de puerto del servidor que debe utilizar para conectarse. Si no especifica un puerto, el puerto por defecto es '6379'. |
| Contrase帽a   | requerido | Utilice esta contrase帽a para la autenticaci贸n.                                                                                   |
| Opci贸n SSL   | requerido | si habilitar el SSL (recomendar habilitar)                                                                                       |

Para rellenar la informaci贸n requerida vaya a la p谩gina del panel de la base de datos y haga clic en la base de datos que acabamos de crear en su Upstash.

![up_info](https://cdn.illacloud.com/official-website/img/docs/up_info.jpg)

Puede copiarlo colocando el rat贸n sobre el punto final, la contrase帽a y el puerto y haciendo clic en el icono de texto que hay detr谩s de 茅l.

En la configuraci贸n de integraci贸n de Upstash en ILLA Cloud, ponga el nombre que desea para `Name`, `Endpoint` para `hostname`, dado `Port` para `Port`, y copia el `Password` cifrado para `Password`.

![up_config_done](https://cdn.illacloud.com/official-website/img/docs/up_config_rev_done.jpg)

### Crear acciones

Hemos creado un recurso Upstash, podemos a帽adir la acci贸n seleccionando Upstash de la lista de acciones y eligiendo el bot贸n **`Crear acci贸n`**.

![up_resource_list](https://cdn.illacloud.com/official-website/img/docs/up_resource_list.jpg)

Ahora hemos a帽adido el servidor Upstash como una acci贸n a nuestra p谩gina de construcci贸n.

![upstash](https://cdn.illacloud.com/official-website/img/docs/upstash.jpg)

### Configurar Upstash

| Propiedades    | Descripci贸n                                                                             |
| -------------- | --------------------------------------------------------------------------------------- |
| Consulta Redis | usar consulta para recuperar y manipular datos almacenados en tu base de datos de Redis |
| Transformador  | transforma los datos en el estilo que te gusta usando JavaScript                        |

Ejemplo:

1.  Obtener valores:
    -   Obtener un valor: Use el comando **`GET`** para recuperar el valor asociado con una clave espec铆fica. Por ejemplo: **`GET key`**.
2.  Definir valores:
    -   Establezca un valor: Use el comando **`SET`** para establecer el valor de una clave. Por ejemplo **`SET key value`**.
3.  Operaciones de Hash:
    -   Establezca pares de campo y valor en un hash: Use el comando **`HSET`** para establecer un par de campo de valor en un hash. Por ejemplo: **`HSET hashKey valor de campo`**.
    -   Obtener un valor de un hash: Use el comando **`HGET`** para recuperar el valor de un campo espec铆fico en un hash. Por ejemplo: **`HGET hashKey campo`**.
4.  Operaciones de listas:
    -   Agrega un elemento a una lista: Usa el comando **`LPUSH`** o **`RPUSH`** para a帽adir un elemento al principio o al final de una lista, respectivamente. Por ejemplo: **`LPUSH listKey valor`**.
    -   Recuperar elementos de una lista: Use el comando **`LRANGE`** para obtener un rango de elementos de una lista. Por ejemplo: **`LRANGE listKey start end`**.
5.  Definir Operaciones:
    -   A帽ade elementos a un conjunto: Usa el comando **`SADD`** para a帽adir uno o m谩s elementos a un conjunto. Por ejemplo: **`SADD setKey value1 value2`**.
    -   Recuperar elementos de un conjunto: Usa el comando **`SMEMBERS`** para obtener todos los miembros de un conjunto. Por ejemplo: **`SMEMBERS setKey`**.
6.  Operaciones de conjuntos ordenados:
    -   A帽ade elementos a un conjunto ordenado: Usa el comando **`ZADD`** para a帽adir elementos a un conjunto ordenado junto con sus partituras. Por ejemplo: **`ZADD sortedSetKey puntuaci贸n1 puntuaci贸n de miembro1 miembro2 member2`**.
    -   Recuperar elementos de un conjunto ordenado: Usa el comando **`ZRANGE`** para obtener un rango de elementos de un conjunto ordenado basado en sus partituras. Por ejemplo: **`ZRANGE sortedSetKey start end`**.

Nota: Puede consultar la documentaci贸n de Redis para una lista completa de comandos y su uso.

## Caso de uso

A continuaci贸n, demostraremos c贸mo mapear los datos de `**Upstash**` al componente `table`.

#### Paso 1 A帽adir una acci贸n

Vamos a crear una tabla en Upstash llamada **`employee_profile`,** incluyendo 4 columnas `name`, `level`, `age` y `married`.

Entonces podemos crear una nueva acci贸n para Upstash desde la lista de acciones en ILLA Cloud y nombrar upstash2.

Para listar todos los datos en employee_profile ponga el fragmento de c贸digo de abajo en la secci贸n de consultas de Redis.

```sql
Obtener perfil de empleado
```

Dado que los datos de salida son una lista de pares de diccionarios, queremos transformarlos en una matriz. En Transformer, act铆valo y ponga el c贸digo abajo.

```jsx
const jsonString = data[0].result;

// Analiza la cadena JSON en un objeto JavaScript
const jsonData = JSON. arse(jsonString);

// Accede a la propiedad "empleados" y la mapea a una nueva matriz
const mappedArray = jsonData. mployees.map((empleado) => ({
  name: employee.name,
  level: employee. evel,
  age: employee.age,
  casried: employee.married,
}));

return mappedArray;
```

![up_code](https://cdn.illacloud.com/official-website/img/docs/up_code.jpg)

Haz clic en **`Guardar`** y **`Ejecutar`** para activar esta acci贸n.

![up_data](https://cdn.illacloud.com/official-website/img/docs/up_data.jpg)

#### Paso 2 A帽adir componentes

A continuaci贸n, podemos a帽adir un componente **`table`** al lienzo.

En el campo **`Fuente de datos`** en la p谩gina Inspect despu茅s de hacer clic en el componente, pon `{{upstash2.data}}` para recuperar los datos de upstash.

#### Paso 3 Prueba

El aspecto final debe ser como se muestra.

![up_test](https://cdn.illacloud.com/official-website/img/docs/up_test.jpg)
