---
title: Docker все-в-одном изображение
tagCategory: doc_menu_docker-all-in-one-image_click
desc: Постройте образ все-в-одном и запустите его на вашей машине.
---

* * *

## <Heading hidden>Docker все-в-одном изображении</Heading>

### Описание

Постройте образ все-в-одном и запустите его на вашей машине. Вы можете просмотреть файл скриптов в папке [scripts](https://github.com/illacloud/deploy-illa-manually/blob/main/docker/scripts) для получения более подробной информации.

Примечание:

Мы настоятельно рекомендуем установить с помощью наших утилит авторазвертывания[illa-cli](https://github.com/illacloud/illa).

А пока мы не поддерживаем Apple Silicon M1 (арка darwin-arm64).

### Запустить официальное изображение

Установите GNU make и тип:

```jsx
сделать run-official-image
```

или просто выполните:

```jsx
/bin/bash scripts/run-official-image.sh
```

эта команда выберет официальный образ illasoft и запустит его в консольной среде.

И войдите по умолчанию с именем пользователя **root\`** и паролем **`password`**.

### Создать изображение вручную и запустить

Установите GNU make (или выполните сценарии оболочки в папке сценариев вручную).

Для сборки illa all-in-one образа и запуска, наберите:

```jsx
все
```

для подмана, наберите:

```jsx
сделать бег за подман
```

или выполнить сценарии оболочки `run-by-podman.sh` в папке скриптов.

### Остановить и удалить контейнер

```jsx
сделать стоп-и-удалённый контейнер
```

### Очистить файл базы данных Postgres

** ЭТО КОМАНДА УДАЛИТЬ ДАННЫЙ ФАЙЛ НА ВАШЕ ДИСКУС!!! \*\*\*** ПРИОБРЕТИТЕ И НАСТОЯТЬ ПРИЧИНУ \*\*\*

По умолчанию база данных Postgres будет храниться в папке `/var/lib/illa/database/postgresql/`.

Выполните следующую команду для удаления.

```jsx
создать файл очистки-postgres-базы данных
```

### Config Runtime Environment переменные

Редактировать `scripts/run.sh` при необходимости:

```jsx
# postgres пароль базы данных
PG_PASS=mysecretpassword

# repo home dir
ILLA_HOME_DIR=/var/lib/illa

# postgres папка хранения файлов базы данных
PG_VOLUMN=${ILLA_HOME_DIR}/database/postgresql
DRIVE_VOLUMN=${ILLA_HOME_DIR}/drive
```
