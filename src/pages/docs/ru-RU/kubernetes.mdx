---
title: Kubernetes
tagCategory: –∫–ª–∏–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç—É
desc: –°–æ–∑–¥–∞–π—Ç–µ –æ–±—Ä–∞–∑ all-in-one –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ —Å –ø–æ–º–æ—â—å—é k8 –Ω–∞ –≤–∞—à–µ–π –º–∞—à–∏–Ω–µ.
categoryName: üë∑ Deploy ILLA
categoryPriority: 2
postPriority: 1
---

* * *

## <h2 hidden>Kubernetes</h2>

### –û–ø–∏—Å–∞–Ω–∏–µ

–°–æ–∑–¥–∞–π—Ç–µ –æ–±—Ä–∞–∑ all-in-one –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ —Å –ø–æ–º–æ—â—å—é k8 –Ω–∞ –≤–∞—à–µ–π –º–∞—à–∏–Ω–µ. –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∞–π–ª —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤ –ø–∞–ø–∫–µ [scripts](https://github.com/illacloud/deploy-illa-manually/blob/main/kubernetes/scripts) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:

–ú—ã –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –Ω–∞—à–∏—Ö —É—Ç–∏–ª–∏—Ç –∞–≤—Ç–æ—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è[illa-cli](https://github.com/illacloud/illa).

–ê –ø–æ–∫–∞ –º—ã –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º Apple Silicon M1 (–∞—Ä–∫–∞ darwin-arm64).

### –ó–∞–ø—É—Å–∫ —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º Slim –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ GNU make –∏ —Ç–∏–ø:

```jsx
–¥–µ–ª–∞—Ç—å —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π
```

–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```jsx
/bin/bash scripts/deploy.sh
```

—ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –≤—ã–±–µ—Ä–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ all-in-one –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –µ–≥–æ –Ω–∞ –≤–∞—à –∫–ª–∞—Å—Ç–µ—Ä Kubernetes.

### –î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ[illa-builder.yaml](https://github.com/illacloud/deploy-illa-manually/blob/main/kubernetes/illa-builder.yaml), –∏ –¥–æ–±–∞–≤—å—Ç–µ –Ω–∞ –Ω–µ–≥–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ IAAS.

### –î–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ HTTPS

–í—ã –º–æ–∂–µ—Ç–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å NodePort –¥–æ —à–ª—é–∑–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞ ingress –∏ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≤ –ø–æ—Ä—Ç 443, –∞ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç https –≤ —à–ª—é–∑ ingress —à–ª—é–∑–∞.

–ò–ª–∏ –≤—ã –º–æ–∂–µ—Ç–µ –≤—Ä—É—á–Ω—É—é —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —à–ª—é–∑ ingress –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä Kubernetes, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```jsx
static_resources:
  listeners:
  - name: https_listener
    address:
      socket_address:
        address: 0. .0.0
        port_value: 443
    filter_chains:
    - filters:
      - name: envoy. ilters.network.http_connection_manager
        typed_config:
          "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3. ttpConnectionManager
          stat_prefix: https_listener
          route_config:
            –∏–º—è: local_route
            virtual_hosts:
            - –∏–º—è: illa_builder
              –¥–æ–º–µ–Ω–æ–≤:
              - "illa. ourdomian. om" # –∑–∞–º–µ–Ω–∏—Ç—å –¥–æ–º–µ–Ω
              –º–∞—Ä—à—Ä—É—Ç–æ–≤:
              - —Å–æ–≤–ø–∞–¥–∞—Ç—å:
                  –ø—Ä–µ—Ñ–∏–∫—Å: "/"route:
                  cluster: illa_builder
          http_filters:
          - name: envoy. ilters.http. outer
            typed_config:
              "@type": —Ç–∏–ø. oogleapis. om/envoy.extensions.filters.http.router.v3.Router
      transport_socket:
        –∏–º—è: envoy.transport_sockets. ls
        typed_config:
          "@type": type.googleapis.com/envoy.extensions.transport_sockets.tls.v3. ownstreamTlsContext
          common_tls_context:
            tls_certificates:
            # –∑–∞–º–µ–Ω–∏—Ç–µ —ç—Ç–æ —Ñ–∞–π–ª–æ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
            - certificate_chain:
                —Ñ–∞–π–ª–∞: /your-cert-folder/fullchain. em
              private_key:
                –∏–º—è: /your-cert-folder/privkey. em

  –∫–ª–∞—Å—Ç–µ—Ä–æ–≤:
  - –∏–º—è: illa_builder
    —Ç–∏–ø: STRICT_DNS
    lb_policy: ROUND_ROBIN
    connect_timeout: 10s
    load_assignment:
      cluster_name: illa_builder
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: illa-builder
                port_value: 80
```
