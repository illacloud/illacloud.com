---
title: Upstash
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/427?languages=pt&filter=basic&value=0
metaTitle: Integra√ß√£o com Upstash Doc ‚îúILLA Cloud
desc: Saiba como conectar seu banco de dados do Upstash Redis √† ILLA Cloud e crie aplicativos que possam consultar, manipular e exibir dados
tagCategory: doc_menu_upstash_click
categoryName: üî® Integra√ß√µes
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>O que √© Switch?</h2>

O Upstash √© um servi√ßo de serverless nativo na nuvem com Redis compat√≠vel que fornece uma maneira f√°cil de integrar a funcionalidade Redis em aplicativos. No contexto da ILLA Cloud, a integra√ß√£o com o Upstash permite que os usu√°rios aproveitem os recursos e capacidades do Upstash dentro do aplicativo ILLA Cloud.

Este tutorial descreve o processo de cria√ß√£o de um painel de administra√ß√£o usando o construtor ILLA e o Upstash em alguns passos simples. ILLA Cloud √© uma plataforma de c√≥digo baixo para desenvolvedores que permite o desenvolvimento r√°pido e a implanta√ß√£o de ferramentas internas. Isto permite criar p√°ginas arrastando e soltando componentes UI (interface do usu√°rio, em ingl√™s) conectando-se a qualquer banco de dados ou API, e escrevendo JavaScript. Para saber mais sobre Upstash, acesse o site deles em https://upstash.com/(https://upstash.com/) Vamos come√ßar!

### Configure seu Back end no Upstash

Crie uma conta no Upstash. Voc√™ pode entrar usando suas contas Amazon, Github ou Google alternativamente.

Depois de entrar em sua conta em `Upstash`, clique no bot√£o `Create database` em Redis.

![up_home](https://cdn.illacloud.com/official-website/img/docs/up_home.jpg)

No painel de controle `Upstash`, clique em `Create database`.

![up_create_db](https://cdn.illacloud.com/official-website/img/docs/up_create_db.jpg)

Nota: voc√™ s√≥ pode ter UM banco de dados no n√≠vel gratuito.

Para a configura√ß√£o do banco de dados, voc√™ pode nomear seu banco de dados da maneira que voc√™ quiser. Aqui n√≥s o nomeamos como `db1`. Escolha a `regi√£o principal` e `regi√£o de leitura` com base na sua localiza√ß√£o de escrita e leitura. Habilite `TSL/SSL`. √â opcional ativar o Evic√ß√£o.

![up_db_config](https://cdn.illacloud.com/official-website/img/docs/up_db_config.jpg)

Clique no bot√£o **`criar`**, agora temos um banco de dados pronto para uso.

### Criar Upstash na nuvem ILLA

H√° duas maneiras de criar um recurso no Illa depois de entrar em sua conta do Illa.

-   Criar em recursos

Entre na sua conta Illa, selecione `**Recursos**` no topo da p√°gina e clique no bot√£o `**Criar Novo**`.

![external_resource](https://cdn.illacloud.com/official-website/img/docs/external_resource.png)

Selecione **`Upstash`** na lista de banco de dados.

![action_list_0](https://cdn.illacloud.com/official-website/img/docs/action_list_0.jpg)

Conectar ao banco de dados com os par√¢metros necess√°rios descritos em `Configura√ß√µes de Conex√£o` abaixo.

Clique em `**Test Connection**` para ver se conseguimos nos conectar com sucesso ao banco de dados. Se sim, clique **`Salvar Recursos`**, outra coisa, verifique se o nome do host, porta, nome de usu√°rio e senha est√° correto.

Depois de criar um recurso, o `Upstash` pronto ser√° exibido como mostrado.

![up_ex_ready](https://cdn.illacloud.com/official-website/img/docs/up_ex_ready.jpg)

-   Criar no Construtor

Acesse sua conta Illa, crie um projeto no Illa Builder na p√°gina `**App**`, e navegue para a **Lista de A√ß√µes\`** na parte inferior da p√°gina. Clique em `**novo**`, e ent√£o selecione **`Upstash`** na lista de dados. Em seguida, conecte ao banco de dados com os par√¢metros necess√°rios descritos em `Configura√ß√µes de Conex√£o` abaixo.

Clique em `**Test Connection**` para ver se conseguimos nos conectar com sucesso ao banco de dados. Se sim, clique **`Salvar Recursos`**, outra coisa, verifique se o nome do host, porta, nome de usu√°rio e senha est√° correto.

### Configura√ß√µes de conex√£o

Aqui precisamos fornecer informa√ß√µes para conex√£o com a base de dados do Upstash.

![up_config](https://cdn.illacloud.com/official-website/img/docs/up_config_rev.jpg)

| propriedades    | Obrigat√≥rio | Descri√ß√£o:                                                                                                                           |
| --------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------ |
| Nome:           | Obrigat√≥rio | O nome do recurso ao criar a√ß√µes na ILLA.                                                                                            |
| Hostname        | Obrigat√≥rio | O URL ou endere√ßo IP do seu banco de dados                                                                                           |
| Porta           | Obrigat√≥rio | O n√∫mero da porta do host do servidor que voc√™ deve usar para se conectar. Se voc√™ n√£o especificar uma porta, porta padr√£o √© '6379'. |
| Palavra-passe   | Obrigat√≥rio | Use esta senha para autentica√ß√£o.                                                                                                    |
| Op√ß√£o SSL       | Obrigat√≥rio | ativar o SSL (recomendar para ativar)                                                                                                |

Para preencher as informa√ß√µes necess√°rias, acesse a p√°gina do painel de dados e clique no banco de dados que acabamos de criar no seu Upstash.

![up_info](https://cdn.illacloud.com/official-website/img/docs/up_info.jpg)

Voc√™ pode copi√°-lo ao passar o mouse sobre o ponto final, senha e porta e clicando no √≠cone de texto por tr√°s dele.

Na configura√ß√£o de integra√ß√£o do Upstash na ILLA Cloud, coloque o nome que voc√™ quer para `Nome`, `Endpoint` para `hostname`, dado `Porta` para `Porta`, e copie a `Password` criptografada para `Password`.

![up_config_done](https://cdn.illacloud.com/official-website/img/docs/up_config_rev_done.jpg)

### Criar a√ß√µes

N√≥s criamos um recurso Upstash, podemos adicionar a a√ß√£o selecionando o Upstash da lista de a√ß√µes e escolhendo o bot√£o **`Create action`**.

![up_resource_list](https://cdn.illacloud.com/official-website/img/docs/up_resource_list.jpg)

Agora n√≥s adicionamos o servidor Upstash como uma a√ß√£o √† nossa p√°gina de constru√ß√£o.

![upstash](https://cdn.illacloud.com/official-website/img/docs/upstash.jpg)

### Configurar Upstash

| propriedades      | Descri√ß√£o:                                                                         |
| ----------------- | ---------------------------------------------------------------------------------- |
| Consulta de Redis | usar consulta para recuperar e manipular dados armazenados no banco de dados Redis |
| Transformador     | Transformar dados em estilo que voc√™ gosta de usar JavaScript                      |

Exemplo de uso:

1.  Obter Valores:
    -   Obtenha um valor: use o comando **`GET`** para recuperar o valor associado com uma chave espec√≠fica. Por exemplo: **`GET key`**.
2.  Definir Valores:
    -   Defina um valor: use o comando **`SET`** para definir o valor de uma chave. Por exemplo **`SET key value`**.
3.  Opera√ß√µes de hash:
    -   Defina pares de valor-campo em um hash: Use o comando **`HSET`** para definir um par de valor-campo em um hash. Por exemplo: **`HSET hashKey campo value`**.
    -   Obtenha um valor de um hash: Use o comando **`HGET`** para recuperar o valor de um campo espec√≠fico em um hash. Por exemplo: **`HGET hashKey field`**.
4.  Opera√ß√µes de lista:
    -   Adicione um elemento a uma lista: Use o comando **`LPUSH`** ou **`RPUSH`** para adicionar um elemento ao in√≠cio ou ao final de uma lista, respectivamente. Por exemplo: **`LPUSH listKey value`**.
    -   Recupere elementos de uma lista: Use o comando **`LRANGE`** para buscar uma s√©rie de elementos de uma lista. Por exemplo: **`LRANGE listKey start end`**.
5.  Definir opera√ß√µes:
    -   Adicione elementos a um conjunto: Use o comando **`SADD`** para adicionar um ou mais elementos a um conjunto. Por exemplo: **`SADD setKey value1 value2`**.
    -   Recupere elementos de um conjunto: Use o comando **SMEMBERS\`** para conseguir que todos os membros de um conjunto. Por exemplo: **`SMEMBERS setKey`**.
6.  Opera√ß√µes do Conjunto Ordenado:
    -   Adicione elementos a um conjunto de ordenados: Use o comando **`ZADD`** para adicionar elementos a um conjunto ordenado junto com suas pontua√ß√µes. Por exemplo: **`ZADD sortedSetKey score1 member1 score2 member2`**.
    -   Recupere elementos de um conjunto de ordenados: Use o comando **`ZRANGE`** para obter uma gama de elementos de um conjunto ordenado baseado em suas pontua√ß√µes. Por exemplo: **`ZRANGE sortedSetKey start end`**.

Nota: Voc√™ pode se referir √† documenta√ß√£o do Redis para uma lista completa de comandos e seu uso.

## Usar caso

Em seguida, vamos demonstrar como mapear os dados de `**Upstash**` para o componente `table`.

#### Passo 1 Adicionar uma a√ß√£o

Vamos criar uma tabela no Upstash chamada **`employee_profile`,** incluindo 4 colunas `name`, `level`, `age`, and `married`.

Ent√£o, podemos criar uma nova a√ß√£o para o Upstash a partir da lista de a√ß√µes na Nuvem ILLA e nomear upstash2.

Para listar todos os dados no nome_perfil de funcion√°rio, coloque o c√≥digo abaixo na se√ß√£o de consulta de Redis.

```sql
GET empregado_perfil
```

Como os dados de sa√≠da s√£o uma lista do par de dicion√°rio, n√≥s queremos transform√°-lo em um array. No Transformador, habilite-o e coloque o c√≥digo abaixo.

```jsx
const jsonString = data[0].result;

// Analisar a string JSON em um objeto JavaScript
const jsonData = JSON. arse(jsonString);

// Acesse a propriedade "employes" e mapeia-a para um novo array
const mappedArray = jsonData. mployees.map((funcion√°rio) => ({
  name: empregadoe.name,
  n√≠vel: funcion√°rio. Evel,
  idade: empregadoe.age,
  casado: funcion√°rio,
}));

return mappedArray;
```

![up_code](https://cdn.illacloud.com/official-website/img/docs/up_code.jpg)

Clique em **`Salvar`** e **`Executar`** para ativar esta a√ß√£o.

![up_data](https://cdn.illacloud.com/official-website/img/docs/up_data.jpg)

#### Componentes adicionados √† etapa 2

Em seguida, podemos adicionar um componente **`table`** √† tela.

No campo **`Data Source`** na p√°gina de Inspe√ß√£o ap√≥s clicar no componente, coloque `{{upstash2.data}}` para recuperar os dados do upstash.

#### Teste de Passo 3

O aspecto final deve ser o que √© evidente.

![up_test](https://cdn.illacloud.com/official-website/img/docs/up_test.jpg)
