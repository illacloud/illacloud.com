---
title: MongoDB
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/351?languages=sv&filter=basic&value=0
metaTitle: MongoDB Integration Doc ILLA Cloud
desc: L√§r dig hur du anv√§nder ILLA Cloud f√∂r att bygga appar med MongoDB. Utforska funktioner f√∂r att s√∂ka, manipulera och visualisera.
tagCategory: doc_menu_mongodb_click
categoryName: üî® Integrationer
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>Vad √§r MongoDB?</h2>

MongoDB √§r en popul√§r NoSQL-dokumentorienterad databas som ofta anv√§nds f√∂r webbapplikationer och andra datadriven programvara. MongoDB √§r utformad f√∂r att vara flexibel, skalbar och snabb och √§r s√§rskilt v√§l l√§mpad f√∂r hantering av stora m√§ngder ostrukturerad eller halvstrukturerad data.

I Illa, kan du ansluta till en MongoDB-databas med MongoDB Query Resource. Denna resurs l√•ter dig k√∂ra MongoDB fr√•gor direkt fr√•n Illa, utan att beh√∂va skriva n√•gon kod. Du kan anv√§nda fr√•geredigeraren f√∂r att skriva fr√•gor p√• MongoDB's modersm√•lsspr√•k, som √§r baserad p√• JavaScript och anv√§nder en JSON-liknande syntax f√∂r att arbeta med dokument.

### Create MongoDB

Det finns tv√• s√§tt att skapa en resurs i Illa efter att du loggat in p√• ditt Illa konto.

-   Skapa i resurser

Logga in p√• ditt Illa konto, v√§lj `**Resurser**` h√∂gst upp p√• sidan och klicka p√• `**Skapa ny**`-knappen.

![external_resource](https://cdn.illacloud.com/official-website/img/docs/external_resource.png)

V√§lj **`MongoDB`** fr√•n databaslistan.

![action_list](https://cdn.illacloud.com/official-website/img/docs/action_list.png)

Anslut till databasen med de parametrar som beskrivs i `Connection Settings` nedan.

Klicka p√• `**Test Connection**` f√∂r att se om vi framg√•ngsrikt kan ansluta till databasen. Om ja, klicka **`Spara resurser`**, annat, dubbelkolla v√§rdnamn, port, anv√§ndarnamn och l√∂senord √§r korrekt.

Efter att ha skapat en resurs, kommer den f√§rdiga MongoDB att visas som visas.

![mongo_ex_ready](https://cdn.illacloud.com/official-website/img/docs/mongo_ex_ready.png)

-   Skapa i Builder

Logga in p√• ditt Illa konto, skapa ett projekt i Illa Builder p√• sidan `**App**` och navigera till **`Action List`** l√§ngst ner p√• sidan. Klicka p√• `**new**`, v√§lj sedan **`MongoDB`** fr√•n databaslistan. Anslut sedan till databasen med n√∂dv√§ndiga parametrar som beskrivs i `Connection Settings` nedan.

Klicka p√• `**Test Connection**` f√∂r att se om vi framg√•ngsrikt kan ansluta till databasen. Om ja, klicka **`Spara resurser`**, annat, dubbelkolla v√§rdnamn, port, anv√§ndarnamn och l√∂senord √§r korrekt.

### Inst√§llningar f√∂r anslutning

H√§r beh√∂ver vi tillhandah√•lla information f√∂r att ansluta till MongoDB-databasen.

![mongo_config](https://cdn.illacloud.com/official-website/img/docs/mongo_config.png)

| Egenskaper              | Kr√§vs        | Beskrivning                                                                                                                   |
| ----------------------- | ------------ | ----------------------------------------------------------------------------------------------------------------------------- |
| Namn                    | obligatorisk | Namnet p√• resursen n√§r du skapar √•tg√§rder i ILLA.                                                                             |
| Konfigurationstyp       | valfri       | en typ av insamling som anv√§nds f√∂r att lagra konfigurationsdata f√∂r delade kluster.                                          |
| Hostname                | obligatorisk | URL eller IP-adress f√∂r din databas                                                                                           |
| Anslutningsformat       | obligatorisk | syntaxen som anv√§nds f√∂r att ange anslutningsstr√§ngen f√∂r att ansluta till en MongoDB-databas eller kluster.                  |
| Port                    | obligatorisk | Serverns portnummer som du b√∂r anv√§nda f√∂r att ansluta. Om du inte anger en port, √§r standardporten '3306'.                   |
| Databas                 | obligatorisk | Namnet p√• databasen                                                                                                           |
| Anv√§ndarnamn            | obligatorisk | det anv√§ndarnamn du vill anv√§nda n√§r du loggar in p√• MongoDB-servern.                                                         |
| L√∂senord                | obligatorisk | Anv√§nd detta l√∂senord f√∂r autentisering.                                                                                      |
| SSL-alternativ          | valfri       | best√§mmer hur h√∂g s√§ker SSL TCP / IP-anslutning prioriteras medan man f√∂rhandlar med servern.                                 |

### Skapa √•tg√§rder

Vi har skapat en MongoDB-resurs, vi kan l√§gga till √•tg√§rden genom att v√§lja MongoDB fr√•n √•tg√§rdslistan och v√§lja **`Create action`**-knappen.

![mongo_resource_list](https://cdn.illacloud.com/official-website/img/docs/mongo_resource_list.png)

Nu har vi lagt till MongoDB-servern som en √•tg√§rd till v√•r byggsida.

![mongodb](https://cdn.illacloud.com/official-website/img/docs/mongodb.png)

### Configure MongoDB

#### √ñversikt

| Metod Namn    | Beskrivning                                                                 |
| ------------- | --------------------------------------------------------------------------- |
| Typ av √•tg√§rd | aggregat, bulkskriva, r√§kna, ta bort. radera, distinkt, hitta, hittaOne     |
| Samling       | grupp av relaterade dokument som lagras tillsammans i en databas            |
| Transformator | omvandlar data till den stil du vill anv√§nda JavaScript                     |

#### Aggregera

bearbeta flera dokument och returnera ber√§knade resultat.

** Input **

| Egenskaper  | Kr√§vs  | Beskrivning                                        |
| ----------- | ------ | -------------------------------------------------- |
| Aggregation | valfri | definierar de √•tg√§rder som ska utf√∂ras p√• data     |

Till exempel, f√∂r att f√• alla resultat vars storlek √§r medium=>gruppera resultaten efter type=>Ber√§kna summan av priserna i varje typ f√∂r **`Aggregation`**:

```sql
[
	 {
		 "$match": { "size": "medium" }
	 },
	 {
		 "$group": { "_id": "$type", "totalantal": { "$sum": "$price" }
	 }
]
```

** utdata **

En rad av de ber√§knade resultaten.

![mongo_agg_data](https://cdn.illacloud.com/official-website/img/docs/mongo_agg_data.png)

Anv√§nd `{{mongodb1.data[0].result}}` f√∂r att f√• allt.

![mongo_agg_code](https://cdn.illacloud.com/official-website/img/docs/mongo_agg_code.png)

#### Bulkwrite

utf√∂ra flera skrivoperationer (infoga, uppdatera och ta bort) i en enda beg√§ran till servern

** Input **

| Egenskaper | Kr√§vs  | Beskrivning                                                                                 |
| ---------- | ------ | ------------------------------------------------------------------------------------------- |
| √Ötg√§rder   | valfri | ett objekt som anger vilken typ av operation som ska utf√∂ras och vilka data som ska skrivas |

Ett exempel f√∂r **`Operations`**:

```sql
[
	 { "insertOne": { "document": { "_id": 3, "type": "beef", "size": "medium", "price": 6 } },
	 { "insertOne": { "dokument": { "_id": 4, "typ": "korv", "storlek": "stor", "price": 10 } },
	 { "updateOne": {
			 "filter": { "type": "cheese" },
			 "update": { "$set": { "price": 8 } }
		 }
	 }
]
```

** utdata **

Det uppdaterade meddelandet visas nedan.

![mongo_bulk_data](https://cdn.illacloud.com/official-website/img/docs/mongo_bulk_data.png)

Eftersom denna metod g√∂r √§ndringar men inte returnerar n√•got. Det finns inga utdata att komma √•t.

#### Antal

r√§kna antalet dokument som matchar en given fr√•ga i en samling

** Input **

| Egenskaper | Kr√§vs  | Beskrivning                                              |
| ---------- | ------ | -------------------------------------------------------- |
| Fr√•ga      | valfri | anger urvalskriterierna f√∂r r√§kningsoperationen          |

Till exempel, f√∂r att r√§kna antalet objekt med typen "n√∂tk√∂tt", kan vi l√§gga under kod i **`Query`**:

```sql
{"type":"beef"}
```

** utdata **

Antalet matchande dokument.

![mongo_count_data](https://cdn.illacloud.com/official-website/img/docs/mongo_count_data.png)

Anv√§nd `{{mongodb1.data}}` f√∂r att f√• det.

![mongo_count_code](https://cdn.illacloud.com/official-website/img/docs/mongo_count_code.png)

#### raderaM√•nga

ta bort flera dokument som matchar ett visst filter i en samling.

** Input **

| Egenskaper   | Kr√§vs  | Beskrivning                                                                                                                    |
| ------------ | ------ | ------------------------------------------------------------------------------------------------------------------------------ |
| Filtrera     | valfri | specificerar urvalskriterierna f√∂r raderings√•tg√§rden, Om den inte anges, kommer alla dokument i denna samling att raderas.     |

Till exempel f√∂r att ta bort √§pplen fr√•n objekt. Vi kan s√§tta koden nedan till **`Filter`**.

```sql
 {"type":"apple"}
```

** utdata **

Antalet matchande dokument.

![mongo_delete2_data](https://cdn.illacloud.com/official-website/img/docs/mongo_delete2_data.png)

Anv√§nd `{{mongodb1.data[0].result.DeletedCount}}` f√∂r att f√• det. Om inga filer matchas kommer det returnerade v√§rdet att vara 0.

![mongo_delete2_code](https://cdn.illacloud.com/official-website/img/docs/mongo_delete2_code.png)

#### raderaOne

ta bort ett dokument som matchar ett visst filter i en samling.

** Input **

| Egenskaper   | Kr√§vs  | Beskrivning                                               |
| ------------ | ------ | --------------------------------------------------------- |
| Filtrera     | valfri | anger urvalskriterierna f√∂r raderingen                    |

Till exempel f√∂r att ta bort ett √§pple fr√•n objekt. Vi kan s√§tta koden nedan till **`Filter`**.

```sql
 {"type":"apple"}
```

** utdata **

Ta bort resultat.

![mongo_delete1_data](https://cdn.illacloud.com/official-website/img/docs/mongo_delete1_data.png)

Anv√§nd `{{mongodb1.data[0].result.DeletedCount}}` f√∂r att f√• det. Om inga filer matchas kommer det returnerade v√§rdet att vara 0 (Eftersom vi tog bort alla √§pplen i **`deleteMany`**, det finns inget √§pple kvar, allts√• tillbaka 0).

![mongo_delete1_code](https://cdn.illacloud.com/official-website/img/docs/mongo_delete1_code.png)

#### distinkt

h√§mta en rad unika v√§rden f√∂r ett angivet f√§lt i en samling

** Input **

| Egenskaper | Kr√§vs        | Beskrivning                                                   |
| ---------- | ------------ | ------------------------------------------------------------- |
| Fr√•ga      | valfri       | specificerar urvalskriterierna f√∂r den distinkta verksamheten |
| F√§lt       | obligatorisk | anger f√§ltet f√∂r att h√§mta distinkta v√§rden fr√•n.             |

Till exempel kan vi ha `{"type":"orange"}` f√∂r **`Query`** och `_id` f√∂r **`Field`**.

** utdata **

en rad olika v√§rden

![mongo_dist_data](https://cdn.illacloud.com/official-website/img/docs/mongo_dist_data.png)

Anv√§nd `{{mongodb1.data[0].result.map(artikel =>({"result":item})}}` f√∂r att h√§mta matrisen.

![mongo_dist_code](https://cdn.illacloud.com/official-website/img/docs/mongo_dist_code.png)

#### hitta

h√§mta dokument fr√•n en samling som matchar en specificerad upps√§ttning kriterier

** Input **

| Egenskaper       | Kr√§vs  | Beskrivning                                                                                                         |
| ---------------- | ------ | ------------------------------------------------------------------------------------------------------------------- |
| Fr√•ga            | valfri | specificerar urvalskriterierna f√∂r s√∂kfunktionen                                                                    |
| Projektion       | valfri | specificerar vilka f√§lt som ska inkluderas eller uteslutas i s√∂kresultatet                                          |
| Sortera efter    | valfri | ange sorteringsordningen f√∂r de returnerade dokumenten                                                              |
| Gr√§ns            | valfri | begr√§nsa antalet dokument som returneras, standard ingen gr√§ns. En gr√§ns p√• 0 motsvarar ingen gr√§ns.                |
| Hoppa            | valfri | ange antal dokument att hoppa √∂ver, standard till 0.                                                                |

Till exempel f√∂r att hitta id, pris och typ av alla apelsiner sorterade efter deras id.

F√∂r **`Query`**, `{"type": "orange"}`

F√∂r **`Projektion`**, `{"_id": 1, "type": 1, "price": 1}`
F√∂r **`Sortera av`**, `{"_id":1}`

Obs: ers√§tt ‚Äù1‚Äù med ‚Äùtrue‚Äù g√∂r det fortfarande!

** utdata **

En samling av objekt av dokument

![mongo_find_data](https://cdn.illacloud.com/official-website/img/docs/mongo_find_data.png)

Anv√§nd `{{mongodb1.data[0].result}}` f√∂r att h√§mta matrisen.

![mongo_find_code](https://cdn.illacloud.com/official-website/img/docs/mongo_find_code.png)

#### findOne

h√§mta det f√∂rsta dokumentet fr√•n en samling som matchar en specifik upps√§ttning kriterier

** Input **

| Egenskaper  | Kr√§vs  | Beskrivning                                                                |
| ----------- | ------ | -------------------------------------------------------------------------- |
| Fr√•ga       | valfri | specificerar urvalskriterierna f√∂r s√∂kfunktionen                           |
| Projektion  | valfri | specificerar vilka f√§lt som ska inkluderas eller uteslutas i s√∂kresultatet |
| Hoppa       | valfri | ange antal dokument att hoppa √∂ver, standard till 0.                       |

Till exempel f√∂r att hitta id, pris och typ av alla apelsiner sorterade efter deras id.

F√∂r **`Query`**, `{"type": "orange"}`

F√∂r **`Projektion`**, `{"_id": 1, "typ": 1, "pris": 1}`

Obs: ers√§tt ‚Äù1‚Äù med ‚Äùtrue‚Äù g√∂r det fortfarande!

** utdata **

En samling av objekt av dokument

![mongo_find1_data](https://cdn.illacloud.com/official-website/img/docs/mongo_find1_data.png)

Anv√§nd `{{[mongodb1.data[0].result]}}` f√∂r att h√§mta matrisen.

![mongo_find1_code](https://cdn.illacloud.com/official-website/img/docs/mongo_find1_code.png)
