---
title: Kubernetes
tagCategory: doc_Î¼ÎµÎ½Î¿Ï_kubernetes_click
desc: Î¦Ï„Î¹Î¬Î¾Ï„Îµ illa all-in-one ÎµÎ¹ÎºÏŒÎ½Î± ÎºÎ±Î¹ ÎµÎºÏ„ÎµÎ»Î­ÏƒÏ„Îµ Ï„Î·Î½ Î±Ï€ÏŒ k8s ÏƒÏ„Î¿ Î¼Î·Ï‡Î¬Î½Î·Î¼Î¬ ÏƒÎ±Ï‚.
categoryName: ğŸ‘· Deploy ILLA
categoryPriority: 2
postPriority: 1
---

* * *

## <Heading hidden>Kubernetes</Heading>

### Î ÎµÏÎ¹Î³ÏÎ±Ï†Î®

Î¦Ï„Î¹Î¬Î¾Ï„Îµ illa all-in-one ÎµÎ¹ÎºÏŒÎ½Î± ÎºÎ±Î¹ ÎµÎºÏ„ÎµÎ»Î­ÏƒÏ„Îµ Ï„Î·Î½ Î±Ï€ÏŒ k8s ÏƒÏ„Î¿ Î¼Î·Ï‡Î¬Î½Î·Î¼Î¬ ÏƒÎ±Ï‚. ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î´ÎµÎ¯Ï„Îµ Ï„Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ ÏƒÎµÎ½Î±ÏÎ¯Ï‰Î½ ÏƒÏ„Î¿ Ï†Î¬ÎºÎµÎ»Î¿ [scripts](https://github.com/illacloud/deploy-illa-manually/blob/main/kubernetes/scripts) Î³Î¹Î± Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ Î»ÎµÏ€Ï„Î¿Î¼Î­ÏÎµÎ¹ÎµÏ‚.

Î£Î·Î¼ÎµÎ¯Ï‰ÏƒÎ·:

Î ÏÎ¿Ï„ÎµÎ¯Î½Î¿Ï…Î¼Îµ Ï„Î·Î½ Î±Î½Î¬Ï€Ï„Ï…Î¾Î· Î¼Îµ Ï„Î± ÎµÏÎ³Î±Î»ÎµÎ¯Î± Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î·Ï‚ Î±Î½Î¬Ï€Ï„Ï…Î¾Î·Ï‚[illa-cli](https://github.com/illacloud/illa).

ÎšÎ±Î¹ Ï€ÏÎ¿Ï‚ Ï„Î¿ Ï€Î±ÏÏŒÎ½ Î´ÎµÎ½ Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶Î¿Ï…Î¼Îµ Ï„Î¿ Apple Silicon M1 (darwin-arm64 arch).

### Î•ÎºÏ„Î­Î»ÎµÏƒÎ· Î¼Îµ Î¼Î¹Î± ÎµÏ€Î¯ÏƒÎ·Î¼Î· ÎµÎ¹ÎºÏŒÎ½Î± slim

Î•Î³ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Ï„Î¿Ï… GNU make ÎºÎ±Î¹ Î¤ÏÏ€Î¿Ï‚:

```jsx
ÎºÎ¬Î½Îµ Î±Î½Î¬Ï€Ï„Ï…Î¾Î·
```

Î® Î±Ï€Î»Î¬ ÎµÎºÏ„ÎµÎ»Î­ÏƒÏ„Îµ:

```jsx
/bin/bash scripts/deploy.sh
```

Î±Ï…Ï„Î® Î· ÎµÎ½Ï„Î¿Î»Î® Î¸Î± Ï„ÏÎ±Î²Î®Î¾ÎµÎ¹ illasoft ÎµÏ€Î¯ÏƒÎ·Î¼Î· ÎµÎ¹ÎºÏŒÎ½Î± all-in-one ÎºÎ±Î¹ Î½Î± Ï„Î¿ Î±Î½Î±Ï€Ï„ÏÎ¾ÎµÎ¹ ÏƒÏ„Î¿ ÏƒÏÎ¼Ï€Î»ÎµÎ³Î¼Î± Kubernetes ÏƒÎ±Ï‚.

### Î“Î¹Î± ÎœÏŒÎ½Î¹Î¼Î· Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Î’Î¬ÏƒÎ·Ï‚ Î”ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½

Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÏ„ÎµÎ¯Ï„Îµ Ï„Î¿[illa-builder.yaml](https://github.com/illacloud/deploy-illa-manually/blob/main/kubernetes/illa-builder.yaml), ÎºÎ±Î¹ Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ Ï„Î·Î½ ÎµÏ€Î¯Î¼Î¿Î½Î· ÏÏÎ¸Î¼Î¹ÏƒÎ· Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·Ï‚ Ï„Î¿Ï… IAAS ÏƒÎµ Î±Ï…Ï„ÏŒ.

### Î“Î¹Î± Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ HTTPS

ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î´ÏÎ¿Î¼Î¿Î»Î¿Î³Î®ÏƒÎµÏ„Îµ Ï„Î¿ NodePort ÏƒÏ„Î·Î½ Ï€ÏÎ»Î· ÎµÎ¹ÏƒÏŒÎ´Î¿Ï… ÏƒÏÎ¼Ï€Î»ÎµÎ³Î¼Î± Kubernetes ÏƒÎ±Ï‚ ÎºÎ±Î¹ Î½Î± Î¾Î±Î½Î±Î³ÏÎ¬ÏˆÎµÏ„Îµ ÏƒÎµ 443 Î¸ÏÏÎ±, ÎºÎ±Î¹ Î½Î± Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÎµÏ„Îµ https cert ÏƒÏ„Î·Î½ Ï€ÏÎ»Î· ÎµÎ¹ÏƒÏŒÎ´Î¿Ï… ÏƒÎ±Ï‚.

Î‰, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î±Î½Î±Ï€Ï„ÏÎ¾ÎµÏ„Îµ Î¼Î¹Î± Ï€ÏÎ»Î· ÎµÎ¹ÏƒÏŒÎ´Î¿Ï… Ï‡ÎµÎ¹ÏÎ¿ÎºÎ¯Î½Î·Ï„Î± ÏƒÏ„Î¿ Î´Î¹Î±ÎºÎ¿Î¼Î¹ÏƒÏ„Î® Kubernetes, ÏŒÏ€Ï‰Ï‚ Î±Ï…Ï„ÏŒ:

```jsx
static_resources:
  listeners:
  - name: Å˜_listener
    Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·:
      socket_address:
        Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·: 0. .0.0
        port_value: 443
    filter_chains:
    - Ï†Î¯Î»Ï„ÏÎ±:
      - ÏŒÎ½Î¿Î¼Î±: Î±Ï€ÎµÏƒÏ„Î±Î»Î¼Î­Î½Î¿Ï‚. ilters.network.http_connection_manager
        typed_config:
          "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3. ttpConnectionManager
          stat_prefix: Ä¡_listener
          route_config:
            ÏŒÎ½Î¿Î¼Î±: local_route
            virtual_hosts:
            - ÏŒÎ½Î¿Î¼Î±: illa_builder
              domains:
              - "illa. Î¿Ï…Î´Î¿Î¼Î¹Î´Î¹ÎºÎ®. om" # Î±Î½Ï„Î¹ÎºÎ±Ï„Î±ÏƒÏ„Î®ÏƒÏ„Îµ Î¼Îµ Ï„Î¿Î½ Ï„Î¿Î¼Î­Î± ÏƒÎ±Ï‚
              Î´Î¹Î±Î´ÏÎ¿Î¼Î­Ï‚:
              - Ï„Î±Î¹ÏÎ¹Î¬Î¶ÎµÎ¹:
                  Ï€ÏÏŒÎ¸ÎµÎ¼Î±: "/"Î´Î¹Î±Î´ÏÎ¿Î¼Î®:
                  cluster: illa_builder
          http_filters:
          - ÏŒÎ½Î¿Î¼Î±: Î±Ï€ÎµÏƒÏ„Î±Î»Î¼Î­Î½Î¿Ï‚. ilters.http. outer
            typed_config:
              "@type": type. Î¿Î³Î»ÎµÎ¬Ï€Î·Ï‚. om/envoy.extensions.filters.http.router.v3.Router
      transport_socket:
        ÏŒÎ½Î¿Î¼Î±: envoy.transport_sockets. ls
        typed_config:
          "@type": type.googleapis.com/envoy.extensions.transport_sockets.tls.v3. ownstreamTlsContext
          common_tls_context:
            tls_certificates:
            # Î±Î½Ï„Î¹ÎºÎ±Ï„Î±ÏƒÏ„Î®ÏƒÏ„Îµ Ï„Î¿ Î¼Îµ Ï„Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ cert
            - certificate_chain:
                filename: /your-cert-folder/fullchain. em
              private_key:
                ÏŒÎ½Î¿Î¼Î±: /your-cert-folder/privkey. em

  clusters:
  - ÏŒÎ½Î¿Î¼Î±: illa_builder
    Ï„ÏÏ€Î¿Ï‚: STRICT_DNS
    lb_policy: ROUND_ROBIN
    connect_timeout: 10s
    load_assignment:
      cluster_name: illa_builder
      endpoints:
      - lb_endpoints:
        - endpoint:
            Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·:
              socket_address:
                Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·: illa-builder
                port_value: 80
```
